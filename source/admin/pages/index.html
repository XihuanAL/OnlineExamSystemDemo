<!DOCTYPE html><html><head>    <!-- 页面meta -->    <meta charset="utf-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <title>基于SpringBoot整合SSM案例</title>    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">    <!-- 引入样式 -->    <link rel="stylesheet" href="../plugins/elementui/index.css">    <!--    <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">-->    <!--    <link rel="stylesheet" href="../css/style.css">--></head><body class="hold-transition"><div id="app">    <div class="line"></div><!--    菜单-->    <el-menu            class="el-menu-demo"            mode="horizontal"            background-color="#545c64"            text-color="#fff"            active-text-color="#ffd04b">        <el-menu-item index="1" @click="questionManagerIsClicked()">题目管理</el-menu-item>        <el-menu-item index="2" @click="examManagerIsClicked()">试卷管理</el-menu-item>        <el-menu-item index="3" @click="subjectManagerIsClicked()">学科管理</el-menu-item>        <el-menu-item index="4" @click="studentManagerIsClicked()">学生管理</el-menu-item>        <!--        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">订单管理</a></el-menu-item>-->    </el-menu><!--    题目管理-->    <div id="questionManager" v-show="questionManagerIsShow">        <el-row>            <el-col :span="24">                <el-card>                    <div slot="header" class="clearfix">                        <div>                            <el-input placeholder="年级" v-model="pagination.grade" style="width: 200px;"></el-input>                            <el-input placeholder="学科" v-model="pagination.subject" style="width: 200px;"></el-input>                            <el-input placeholder="题目" v-model="pagination.quesContent" style="width: 200px;"></el-input>                            <el-button @click="getAll()" class="dalfBut">查询</el-button>                            <el-button type="primary" @click="handleCreate()">新建</el-button>                        </div>                    </div>                    <el-table :data="questionList" style="width: 100%">                        <el-table-column label="年级" width="100" prop="grade">                        </el-table-column>                        <el-table-column label="学科" width="100" prop="subject">                        </el-table-column>                        <el-table-column label="题目" prop="quesContent">                        </el-table-column>                        <el-table-column label="类型" width="100" prop="type">                        </el-table-column>                        <el-table-column label="操作" width="180">                            <template slot-scope="scope">                                <el-button type="primary" size="small" @click="edit(scope.$index)">编辑</el-button>                                <el-button type="danger" size="small" @click="del(scope.$index)">删除</el-button>                            </template>                        </el-table-column>                    </el-table>                    <div class="pagination-container">                        <el-pagination                                background                                class="pagiantion"                                @current-change="handleCurrentChange"                                :current-page="pagination.currentPage"                                :page-size="pagination.pageSize"                                layout="total, prev, pager, next, jumper"                                style="float: right;"                                :total="pagination.total">                        </el-pagination>                    </div>                </el-card>            </el-col>        </el-row>    </div>    <!--    学科管理-->    <div id="subjectManager" v-show="subjectManagerIsShow">        <el-row>            <el-col :span="24">                <el-card>                    <div slot="header" class="clearfix">                        <div>                            <el-input placeholder="年级" v-model="pagination.grade" style="width: 200px;"></el-input>                            <el-input placeholder="学科" v-model="pagination.subject" style="width: 200px;"></el-input>                            <el-button @click="getSubject()" class="dalfBut">查询</el-button>                            <el-button type="primary" @click="createSubjectIsClick()">新建</el-button>                        </div>                    </div>                    <el-table :data="subjectList" style="width: 100%">                        <el-table-column label="年级" width="100" prop="grade">                        </el-table-column>                        <el-table-column label="学科" prop="subject">                        </el-table-column>                        <el-table-column label="操作" width="180">                            <template slot-scope="scope">                                <el-button type="primary" size="small" @click="editSubject(scope.row)">编辑</el-button>                                <el-button type="danger" size="small" @click="delSubject(scope.row)">删除</el-button>                            </template>                        </el-table-column>                    </el-table><!--                    分页组件-->                    <div class="pagination-container">                        <el-pagination                                background                                class="pagiantion"                                @current-change="handleCurrentChange4Subject"                                :current-page="pagination.currentPage"                                :page-size="pagination.pageSize"                                layout="total, prev, pager, next, jumper"                                style="float: right;"                                :total="pagination.total">                        </el-pagination>                    </div>                    <!--           新增学科弹层-->                    <div class="add-form">                        <el-dialog title="新增学科" :visible.sync="dialogForm4SubjectVisible">                            <el-form ref="dataAddForm" :model="formData" :rules="rules" label-position="right"                                     label-width="100px">                                <el-row>                                    <el-col :span="12">                                        <el-form-item label="年级" prop="grade">                                            <el-input v-model="formData.grade"/>                                        </el-form-item>                                    </el-col>                                    <el-col :span="12">                                        <el-form-item label="学科" prop="subject">                                            <el-input v-model="formData.subject"/>                                        </el-form-item>                                    </el-col>                                </el-row>                            </el-form>                            <div slot="footer" class="dialog-footer">                                <el-button @click="cancel()">取消</el-button>                                <el-button type="primary" @click="handleAddSubject()">确定</el-button>                            </div>                        </el-dialog>                    </div>                    <!--                    编辑学科弹层-->                    <div class="add-form">                        <el-dialog title="编辑" :visible.sync="dialogForm4SubjectVisible4Edit">                            <el-form ref="dataEditForm" :model="formData" :rules="rules" label-position="right"                                     label-width="100px">                                <el-row>                                    <el-col :span="12">                                        <el-form-item label="年级" prop="grade">                                            <el-input v-model="formData.grade"/>                                        </el-form-item>                                    </el-col>                                    <el-col :span="12">                                        <el-form-item label="学科" prop="subject">                                            <el-input v-model="formData.subject"/>                                        </el-form-item>                                    </el-col>                                </el-row>                            </el-form>                            <div slot="footer" class="dialog-footer">                                <el-button @click="cancel()">取消</el-button>                                <el-button type="primary" @click="handleEditSubject()">确定</el-button>                            </div>                        </el-dialog>                    </div>                </el-card>            </el-col>        </el-row>    </div></div></body><!-- 引入组件库 --><script src="../js/vue.js"></script><script src="../plugins/elementui/index.js"></script><script type="text/javascript" src="../js/jquery.min.js"></script><script src="../js/axios-0.18.0.js"></script><script>    var vue = new Vue({        el: '#app',        data: {            subjectList: [],            questionList: [{grade: "高一", subject: "语文", quesContent: "小石潭记", type: "单选"}],            questionManagerIsShow: true,            examManagerIsShow: false,            subjectManagerIsShow: false,            studentManagerIsShow: false,            dialogForm4SubjectVisible: false,            dialogForm4SubjectVisible4Edit: false,            formData: {},            rules: {//校验规则                grade: [{required: true, message: '年级为必填项', trigger: 'blur'}],                subject: [{required: true, message: '学科为必填项', trigger: 'blur'}]            },            pagination: {//分页相关模型数据                currentPage: 1,//当前页码                pageSize: 8,//每页显示的记录数                total: 0,//总记录数                grade: '',//年级                subject: '',//学科                quesContent: '',//题目内容            }        },        //钩子函数，VUE对象初始化完成后自动执行        created() {            this.getAll();        },        methods: {            //列表            getAll() {                this.getCurrentUser();                this.getSubject();            },            //获取所有学科            getSubject() {                param = "?" + "subject=" + this.pagination.subject + "&grade=" + this.pagination.grade;                axios.get("http://localhost:80/subjects/" + this.pagination.currentPage + "/" + this.pagination.pageSize + param).then((res) => {                    this.subjectList = res.data.data.records;                    this.pagination.total = res.data.data.total;                    this.pagination.currentPage = res.data.data.current;                    this.pagination.pageSize = res.data.data.size;                })            },            //关闭全部管理面板            closeAll() {                this.subjectManagerIsShow = false;                this.questionManagerIsShow = false;            },            examManagerIsClicked() {                this.closeAll();                this.examManagerIsShow = true;            },            //学科管理被点击            subjectManagerIsClicked() {                this.closeAll();                this.subjectManagerIsShow = true;                this.getSubject();            },            //题目管理被点击            questionManagerIsClicked() {                this.closeAll();                this.questionManagerIsShow = true;            },            //学生管理被点击            studentManagerIsClicked() {                this.closeAll();                this.studentManagerIsShow = true;            },            //添加学科按钮被点击            createSubjectIsClick() {                this.dialogForm4SubjectVisible = true; //显示添加窗口                this.formData = {}; //清空表单数据            },            //重置表单            resetForm() {            },            // 添加学科确定按钮被点击            handleAddSubject() {                axios.post("http://localhost:80/subjects", this.formData).then((res) => {                    this.dialogForm4SubjectVisible = false;                    this.getSubject();                })            },            //编辑学科            editSubject(row) {                this.dialogForm4SubjectVisible4Edit = true;                axios.get("http://localhost:80/subjects/" + row.id).then((res) => {                    this.formData = res.data.data;                })            },            //编辑学科确定按钮被点击            handleEditSubject() {                axios.put("http://localhost:80/subjects/", this.formData).then((res) => {                    this.dialogForm4SubjectVisible4Edit = false;                    this.getSubject();                })            },            //删除学科            delSubject(row) {                this.$confirm('此操作将永久删除该图书, 是否继续?', '提示', {                    confirmButtonText: '确定',                    cancelButtonText: '取消',                    type: 'warning'                }).then(() => {                    axios.delete("http://localhost:80/subjects/" + row.id).then((res) => {                        this.getSubject();                    }).finally(() => {                        this.getAll();                    });                }).catch(() => {                });            },            //取消            cancel() {                this.dialogForm4SubjectVisible = false;                this.dialogForm4SubjectVisible4Edit = false;                this.formData = {};            },            // 删除            handleDelete(row) {                //console.log(row);                this.$confirm('此操作将永久删除该图书, 是否继续?', '提示', {                    confirmButtonText: '确定',                    cancelButtonText: '取消',                    type: 'warning'                }).then(() => {                    axios.delete("/books/" + row.id).then((res) => {                        if (res.data.status) {                            this.$message.success('删除成功');                        } else {                            this.$message.error('删除失败');                        }                    }).finally(() => {                        this.getAll();                    });                }).catch(() => {                });            },            //弹出编辑窗口            handleUpdate(row) {                axios.get("/books/" + row.id).then((res) => {                    this.formData = res.data.data;                    this.dialogFormVisible4Edit = true;                });            },            //修改            handleEdit() {                axios.put("/books/", this.formData).then((res) => {                    this.dialogFormVisible4Edit = false;                    this.getAll();                    this.$message.success('修改成功');                });            },            //切换学科页码            handleCurrentChange4Subject(currentPage) {                this.pagination.currentPage = currentPage; //更新当前页码                this.getSubject(); //重新查询            },            //获取当前用户            getCurrentUser() {                axios.get("/users").then((res) => {                    this.username = res.data.data.username;                    console.log(res.data.data)                });            },            //展示            show() {                this.isShow = !this.isShow;            },            //条件查询        }    })</script></html>